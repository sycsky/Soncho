# WorkflowExecutionResultDto

## 1. Class Profile
- **Class Name**: `WorkflowExecutionResultDto`
- **Package**: `com.example.aikef.dto`
- **Type**: `Record` (DTO)
- **Role**: Data Transfer Object
- **Purpose**: Encapsulates the final outcome of a workflow execution, including the generated reply and execution trace for debugging.

## 2. Method Deep Dive
### Fields
- `success`: Whether the workflow completed successfully.
- `reply`: The final text output generated by the workflow (if any).
- `errorMessage`: Failure reason.
- `needHumanTransfer`: Flag indicating if the workflow decided to escalate to a human agent.
- `nodeDetails`: List of `WorkflowContext.NodeExecutionDetail`, providing a step-by-step trace of which nodes were executed and their results.

## 3. Dependency Graph
- **Internal Dependencies**:
  - `com.example.aikef.workflow.context.WorkflowContext.NodeExecutionDetail`

## 4. Usage Guide
Returned by `WorkflowService.executeWorkflow`.
- **Chat Interface**: The `reply` is sent to the user.
- **Debugging**: The `nodeDetails` are used in the "Workflow Test" UI to visualize the path taken and variable states at each step.
- **Escalation**: `needHumanTransfer` triggers the system to change session status to `PENDING` (waiting for agent).

## 5. Source Link
[WorkflowExecutionResultDto.java](file:///D:/ai_agent_work/ai_agent_workflow/ai_kef/src/main/java/com/example/aikef/dto/WorkflowExecutionResultDto.java)
