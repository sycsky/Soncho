# ================================
# 主配置文件 - 仅保留基础配置
# ================================
# 环境特定配置请在对应的配置文件中设置：
# - application-dev.yml      开发环境
# - application-local.yml    本地覆盖（不提交Git）
# - application-production.yml 生产环境

server:
  port: 8080
  # 支持在负载均衡器（如ALB）后面使用HTTPS
  # 当ALB配置了HTTPS时，应用需要信任X-Forwarded-*头
  forward-headers-strategy: framework

spring:
  application:
    name: nexus-support-ai
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:local}  # 优先使用环境变量，默认 local
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 50MB
  jackson:
    serialization:
      write-dates-as-timestamps: false

# LiteFlow 工作流引擎基础配置
liteflow:
  rule-source:
  print-execution-log: true
  when-max-wait-seconds: 60
  when-max-workers: 16
  monitor:
    enable-log: true
    period: 300000

# 知识库嵌入模型配置（通用）
knowledge:
  embedding:
    default-model: text-embedding-3-small
    default-dimension: 1536

# 文件存储通用配置
storage:
  max-file-size: 10485760
  allowed-image-types: image/jpeg,image/png,image/gif,image/webp,image/svg+xml
  allowed-document-types: application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/plain,text/csv
  allowed-video-types: video/mp4,video/webm,video/quicktime
  allowed-audio-types: audio/mpeg,audio/wav,audio/ogg

# 翻译服务通用配置
translation:
  target-languages:
    - code: zh-TW
      name: 中文繁体
    - code: en
      name: English
    - code: ja
      name: 日本語
  default-system-language: zh-CN
